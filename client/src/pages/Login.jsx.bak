import React from 'react';
import { useAuth } from '../context/AuthContext.jsx';
import { Navigate, useNavigate } from 'react-router-dom';

const { user } = useAuth();
if (user) return <Navigate to="/" replace />;

export default function Login() {
  const { loginAsFree, loginAsPremium, loginAsAdmin } = useAuth();
  const navigate = useNavigate();

  return (
    <div>
      <h2>Login</h2>

      <button
        onClick={() => {
          loginAsFree();
          navigate('/picks');
        }}
      >
        Login as Free User
      </button>

      <br />
      <br />

      <button
        onClick={() => {
          loginAsPremium();
          navigate('/picks');
        }}
      >
        Login as Premium User
      </button>

      <br />
      <br />

      <button
        onClick={() => {
          loginAsAdmin();
          navigate('/admin');
        }}
      >
        Login as Admin
      </button>
    </div>
  );
}
